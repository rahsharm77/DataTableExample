@{
    ViewBag.Title = "Home Page";
    Layout = null;
}

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    @*<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <link href="~/Content/bootstrap4.min.css" rel="stylesheet" />
    <script src="~/Scripts/DataTables/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/DataTables/dataTables.bootstrap4.min.js"></script>*@

    <!-- CDN LINKS-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.3.1/cerulean/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
</head>
<body>
    <div class="jumbotron">
        <h1>DataTable Example</h1>
        <p class="lead">A project dedicated to data table example in MVC</p>
    </div>
    <br />
    <center>
        <div style="width: auto; border: 1px solid black; padding: 3px" ;>
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>Company ID</th>
                        <th>Company Name</th>
                        <th>Company Code</th>
                        <th>WeCare Company ID</th>
                        <th>License Count</th>
                        <th>Active</th>
                        <th>Modified By</th>
                        <th>Last Modified On</th>
                        <th>Last Modified On Server String</th>
                    </tr>
                </thead>
            </table>
        </div>
    </center>
    <script type="text/javascript">
            $(document).ready(function () {
                $.ajax({
                    "url": "@Url.Action("get_date", "Home")",
                    "method": "post",
                    "dataType" : "json",
                    success: function (data) {
                        $('#dataTable').DataTable({
                            paging: true,
                            sort: true,
                            searching: true,
                            scrollY: 200,
                            data:data,
                            columns: [
                                { 'data': 'CompanyID'},
                                { 'data': 'CompanyName' },
                                { 'data': 'CompanyCode' },
                                { 'data': 'Wecare_companyId' },
                                { 'data': 'LicenseCount' },
                                { 'data': 'active' },
                                { 'data': 'ModifiedBy' },
                                {
                                    'data': 'Lastmodifiedon'
                                    //'render': function (jsonDate) {
                                    //    var date = new Date(parseInt(jsonDate.substr(13)));
                                    //    var month = date.getMonth() + 1;
                                    //    return month + "/" + date.getDate() + "/" + date.getFullYear();
                                    //}
                                },
                                { 'data': 'Lastmodifiedonstring' }
                            ]
                        });
                    }
                });
            });
    </script>
</body>
</html>
